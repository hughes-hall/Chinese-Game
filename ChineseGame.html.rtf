{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red109\green109\blue109;\red236\green241\blue247;\red251\green0\blue7;
\red0\green0\blue0;\red42\green42\blue42;\red107\green0\blue1;\red0\green0\blue255;\red24\green112\blue43;
\red9\green60\blue148;\red77\green80\blue85;\red19\green118\blue70;\red111\green14\blue195;\red164\green69\blue11;
\red14\green110\blue109;}
{\*\expandedcolortbl;;\cssrgb\c50196\c50196\c50196;\cssrgb\c94118\c95686\c97647;\cssrgb\c100000\c0\c0;
\cssrgb\c0\c0\c0;\cssrgb\c21961\c21961\c21961;\cssrgb\c50196\c0\c0;\cssrgb\c0\c0\c100000;\cssrgb\c9412\c50196\c21961;
\cssrgb\c1569\c31765\c64706;\cssrgb\c37255\c38824\c40784;\cssrgb\c3529\c52549\c34510;\cssrgb\c51765\c18824\c80784;\cssrgb\c70980\c34902\c3137;
\cssrgb\c0\c50196\c50196;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs28 \cf2 \cb3 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 <!DOCTYPE\cf4 \strokec4  html\cf2 \strokec2 >\cf0 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 <\cf7 \strokec7 html\cf0 \strokec5  \cf4 \strokec4 lang\cf6 \strokec6 =\cf8 \strokec8 "en"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cf6 \cb3 \strokec6 <\cf7 \strokec7 head\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3     \cf6 \strokec6 <\cf7 \strokec7 meta\cf0 \strokec5  \cf4 \strokec4 charset\cf6 \strokec6 =\cf8 \strokec8 "UTF-8"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 meta\cf0 \strokec5  \cf4 \strokec4 name\cf6 \strokec6 =\cf8 \strokec8 "viewport"\cf0 \strokec5  \cf4 \strokec4 content\cf6 \strokec6 =\cf8 \strokec8 "width=device-width, initial-scale=1.0"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 title\cf6 \strokec6 >\cf0 \strokec5 Chinese Character Drop Challenge\cf6 \strokec6 </\cf7 \strokec7 title\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 script\cf0 \strokec5  \cf4 \strokec4 src\cf6 \strokec6 =\cf8 \strokec8 "https://cdn.tailwindcss.com"\cf6 \strokec6 ></\cf7 \strokec7 script\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 link\cf0 \strokec5  \cf4 \strokec4 href\cf6 \strokec6 =\cf8 \strokec8 "https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+SC:wght@400;700&display=swap"\cf0 \strokec5  \cf4 \strokec4 rel\cf6 \strokec6 =\cf8 \strokec8 "stylesheet"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 script\cf0 \strokec5  \cf4 \strokec4 src\cf6 \strokec6 =\cf8 \strokec8 "https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"\cf6 \strokec6 ></\cf7 \strokec7 script\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 style\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 body\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 font-family:\cf0 \strokec5  \cf9 \strokec9 'Inter'\cf0 \strokec5 , \cf10 \strokec10 sans-serif\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 display:\cf0 \strokec5  \cf10 \strokec10 flex\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 flex-direction:\cf0 \strokec5  \cf10 \strokec10 column\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 align-items:\cf0 \strokec5  \cf10 \strokec10 center\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 justify-content:\cf0 \strokec5  \cf10 \strokec10 flex-start\cf0 \strokec5 ; \cf11 \strokec11 /* Align to top for scroll */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 min-height:\cf0 \strokec5  \cf12 \strokec12 100vh\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin:\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #f0f2f5\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #333\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 padding-top:\cf0 \strokec5  \cf12 \strokec12 20px\cf0 \strokec5 ; \cf11 \strokec11 /* Add padding for scroll */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 padding-bottom:\cf0 \strokec5  \cf12 \strokec12 20px\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #gameContainer\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #ffffff\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 16px\cf0 \strokec5 ; \cf11 \strokec11 /* More rounded */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 box-shadow:\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5  \cf12 \strokec12 30px\cf0 \strokec5  \cf10 \strokec10 rgba(\cf12 \strokec12 0\cf0 \strokec5 , \cf12 \strokec12 0\cf0 \strokec5 , \cf12 \strokec12 0\cf0 \strokec5 , \cf12 \strokec12 0.12\cf10 \strokec10 )\cf0 \strokec5 ; \cf11 \strokec11 /* Softer, larger shadow */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 25px\cf0 \strokec5  \cf12 \strokec12 30px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 text-align:\cf0 \strokec5  \cf10 \strokec10 center\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 width:\cf0 \strokec5  \cf12 \strokec12 90%\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 max-width:\cf0 \strokec5  \cf12 \strokec12 700px\cf0 \strokec5 ; \cf11 \strokec11 /* Slightly wider */\cf0 \cb1 \strokec5 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 canvas\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 display:\cf0 \strokec5  \cf10 \strokec10 block\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin:\cf0 \strokec5  \cf12 \strokec12 15px\cf0 \strokec5  \cf10 \strokec10 auto\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #e9edf0\cf0 \strokec5 ; \cf11 \strokec11 /* Slightly different canvas bg */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border:\cf0 \strokec5  \cf12 \strokec12 1px\cf0 \strokec5  \cf10 \strokec10 solid\cf0 \strokec5  \cf10 \strokec10 #d1d5db\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 .control-button\cf0 \strokec5 , \cf7 \strokec7 .speed-controls\cf0 \strokec5  \cf7 \strokec7 button\cf0 \strokec5 , \cf7 \strokec7 #loadVocabButton\cf0 \strokec5 , \cf7 \strokec7 #startGameButton\cf0 \strokec5 , \cf7 \strokec7 #resetGameButton\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #4a90e2\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 white\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border:\cf0 \strokec5  \cf10 \strokec10 none\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 12px\cf0 \strokec5  \cf12 \strokec12 20px\cf0 \strokec5 ; \cf11 \strokec11 /* Larger padding */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 margin:\cf0 \strokec5  \cf12 \strokec12 8px\cf0 \strokec5  \cf12 \strokec12 5px\cf0 \strokec5 ; \cf11 \strokec11 /* Increased margin */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 8px\cf0 \strokec5 ; \cf11 \strokec11 /* More rounded buttons */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 cursor:\cf0 \strokec5  \cf10 \strokec10 pointer\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 16px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-weight:\cf0 \strokec5  \cf12 \strokec12 600\cf0 \strokec5 ; \cf11 \strokec11 /* Bolder text */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 transition:\cf0 \strokec5  \cf10 \strokec10 background-color\cf0 \strokec5  \cf12 \strokec12 0.2s\cf0 \strokec5  \cf10 \strokec10 ease\cf0 \strokec5 , \cf10 \strokec10 transform\cf0 \strokec5  \cf12 \strokec12 0.1s\cf0 \strokec5  \cf10 \strokec10 ease\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 .control-button:hover\cf0 \strokec5 , \cf7 \strokec7 .speed-controls\cf0 \strokec5  \cf7 \strokec7 button:hover\cf0 \strokec5 , \cf7 \strokec7 #loadVocabButton:hover\cf0 \strokec5 , \cf7 \strokec7 #startGameButton:hover\cf0 \strokec5 , \cf7 \strokec7 #resetGameButton:hover\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #357abd\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 transform:\cf0 \strokec5  \cf10 \strokec10 translateY(\cf12 \strokec12 -1px\cf10 \strokec10 )\cf0 \strokec5 ; \cf11 \strokec11 /* Slight lift on hover */\cf0 \cb1 \strokec5 \
\cb3         \}\cb1 \
\cb3          \cf7 \strokec7 #resetGameButton\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #e74c3c\cf0 \strokec5 ; \cf11 \strokec11 /* Red for reset */\cf0 \cb1 \strokec5 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #resetGameButton:hover\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #c0392b\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 input\cf0 \strokec5 [\cf10 \strokec10 type\cf0 \strokec5 =\cf9 \strokec9 "text"\cf0 \strokec5 ], \cf7 \strokec7 input\cf0 \strokec5 [\cf10 \strokec10 type\cf0 \strokec5 =\cf9 \strokec9 "number"\cf0 \strokec5 ], \cf7 \strokec7 textarea\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 border:\cf0 \strokec5  \cf12 \strokec12 1px\cf0 \strokec5  \cf10 \strokec10 solid\cf0 \strokec5  \cf10 \strokec10 #ccc\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin:\cf0 \strokec5  \cf12 \strokec12 5px\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5  \cf12 \strokec12 15px\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 6px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 width:\cf0 \strokec5  \cf10 \strokec10 calc(\cf12 \strokec12 100%\cf0 \strokec5  - \cf12 \strokec12 22px\cf10 \strokec10 )\cf0 \strokec5 ; \cf11 \strokec11 /* Full width with padding */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 box-sizing:\cf0 \strokec5  \cf10 \strokec10 border-box\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 16px\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 textarea\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 min-height:\cf0 \strokec5  \cf12 \strokec12 80px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-family:\cf0 \strokec5  \cf10 \strokec10 monospace\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 label\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 display:\cf0 \strokec5  \cf10 \strokec10 block\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 text-align:\cf0 \strokec5  \cf10 \strokec10 left\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin-top:\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-weight:\cf0 \strokec5  \cf12 \strokec12 600\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #555\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #englishWordDisplay\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 font-family:\cf0 \strokec5  \cf9 \strokec9 'Inter'\cf0 \strokec5 , \cf10 \strokec10 sans-serif\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 30px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-weight:\cf0 \strokec5  \cf12 \strokec12 600\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #2c3e50\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin-bottom:\cf0 \strokec5  \cf12 \strokec12 20px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 12px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #f8f9fa\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 8px\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #feedbackMessage\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 22px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-weight:\cf0 \strokec5  \cf12 \strokec12 600\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 min-height:\cf0 \strokec5  \cf12 \strokec12 35px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin-top:\cf0 \strokec5  \cf12 \strokec12 15px\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 .score-speed-info\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 18px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #444\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin-top:\cf0 \strokec5  \cf12 \strokec12 15px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-weight:\cf0 \strokec5  \cf12 \strokec12 500\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 .chinese-char-canvas\cf0 \strokec5  \{ \cf11 \strokec11 /* Class for canvas text */\cf0 \cb1 \strokec5 \
\cb3             \cf4 \strokec4 font-family:\cf0 \strokec5  \cf9 \strokec9 'Noto Sans SC'\cf0 \strokec5 , \cf10 \strokec10 sans-serif\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-weight:\cf0 \strokec5  \cf12 \strokec12 700\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #endGameSummary\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #f9f9f9\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border:\cf0 \strokec5  \cf12 \strokec12 1px\cf0 \strokec5  \cf10 \strokec10 solid\cf0 \strokec5  \cf10 \strokec10 #e0e0e0\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 12px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 25px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin-top:\cf0 \strokec5  \cf12 \strokec12 25px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 box-shadow:\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5  \cf12 \strokec12 5px\cf0 \strokec5  \cf12 \strokec12 15px\cf0 \strokec5  \cf10 \strokec10 rgba(\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0.08\cf10 \strokec10 )\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #endGameSummary\cf0 \strokec5  \cf7 \strokec7 h2\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #4a90e2\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 28px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin-bottom:\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #endGameSummary\cf0 \strokec5  \cf7 \strokec7 p\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 18px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin:\cf0 \strokec5  \cf12 \strokec12 8px\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #highScoresBoard\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 margin-top:\cf0 \strokec5  \cf12 \strokec12 20px\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #highScoresBoard\cf0 \strokec5  \cf7 \strokec7 h3\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 22px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #333\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin-bottom:\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border-bottom:\cf0 \strokec5  \cf12 \strokec12 2px\cf0 \strokec5  \cf10 \strokec10 solid\cf0 \strokec5  \cf10 \strokec10 #4a90e2\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 padding-bottom:\cf0 \strokec5  \cf12 \strokec12 5px\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #highScoresBoard\cf0 \strokec5  \cf7 \strokec7 ul\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 list-style:\cf0 \strokec5  \cf10 \strokec10 none\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #highScoresBoard\cf0 \strokec5  \cf7 \strokec7 li\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #fff\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border:\cf0 \strokec5  \cf12 \strokec12 1px\cf0 \strokec5  \cf10 \strokec10 solid\cf0 \strokec5  \cf10 \strokec10 #eee\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5  \cf12 \strokec12 15px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 margin-bottom:\cf0 \strokec5  \cf12 \strokec12 8px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 6px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 17px\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 display:\cf0 \strokec5  \cf10 \strokec10 flex\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 justify-content:\cf0 \strokec5  \cf10 \strokec10 space-between\cf0 \strokec5 ;\cb1 \
\cb3             \cf4 \strokec4 align-items:\cf0 \strokec5  \cf10 \strokec10 center\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3         \cf7 \strokec7 #highScoresBoard\cf0 \strokec5  \cf7 \strokec7 li\cf0 \strokec5  \cf7 \strokec7 .score-name\cf0 \strokec5  \{ \cf4 \strokec4 font-weight:\cf0 \strokec5  \cf12 \strokec12 600\cf0 \strokec5 ; \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #357abd\cf0 \strokec5 ; \}\cb1 \
\cb3         \cf7 \strokec7 #highScoresBoard\cf0 \strokec5  \cf7 \strokec7 li\cf0 \strokec5  \cf7 \strokec7 .score-date\cf0 \strokec5  \{ \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 0.9em\cf0 \strokec5 ; \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #777\cf0 \strokec5 ; \}\cb1 \
\cb3         \cf7 \strokec7 #highScoresBoard\cf0 \strokec5  \cf7 \strokec7 li\cf0 \strokec5  \cf7 \strokec7 .score-value\cf0 \strokec5  \{ \cf4 \strokec4 font-weight:\cf0 \strokec5  \cf10 \strokec10 bold\cf0 \strokec5 ; \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #27ae60\cf0 \strokec5 ; \}\cb1 \
\
\cb3         \cf7 \strokec7 .hidden\cf0 \strokec5  \{ \cf4 \strokec4 display:\cf0 \strokec5  \cf10 \strokec10 none\cf0 \strokec5 ; \}\cb1 \
\cb3         \cf11 \strokec11 /* Message Box Styles - Re-using from previous */\cf0 \cb1 \strokec5 \
\cb3         \cf7 \strokec7 .message-box-overlay\cf0 \strokec5  \{ \cf4 \strokec4 position:\cf0 \strokec5  \cf10 \strokec10 fixed\cf0 \strokec5 ; \cf4 \strokec4 top:\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5 ; \cf4 \strokec4 left:\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5 ; \cf4 \strokec4 width:\cf0 \strokec5  \cf12 \strokec12 100%\cf0 \strokec5 ; \cf4 \strokec4 height:\cf0 \strokec5  \cf12 \strokec12 100%\cf0 \strokec5 ; \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 rgba(\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0.6\cf10 \strokec10 )\cf0 \strokec5 ; \cf4 \strokec4 display:\cf0 \strokec5  \cf10 \strokec10 flex\cf0 \strokec5 ; \cf4 \strokec4 justify-content:\cf0 \strokec5  \cf10 \strokec10 center\cf0 \strokec5 ; \cf4 \strokec4 align-items:\cf0 \strokec5  \cf10 \strokec10 center\cf0 \strokec5 ; \cf4 \strokec4 z-index:\cf0 \strokec5  \cf12 \strokec12 1000\cf0 \strokec5 ; \}\cb1 \
\cb3         \cf7 \strokec7 .message-box-content\cf0 \strokec5  \{ \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 white\cf0 \strokec5 ; \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 30px\cf0 \strokec5 ; \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5 ; \cf4 \strokec4 box-shadow:\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5  \cf12 \strokec12 5px\cf0 \strokec5  \cf12 \strokec12 15px\cf0 \strokec5  \cf10 \strokec10 rgba(\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0\cf0 \strokec5 ,\cf12 \strokec12 0.2\cf10 \strokec10 )\cf0 \strokec5 ; \cf4 \strokec4 text-align:\cf0 \strokec5  \cf10 \strokec10 center\cf0 \strokec5 ; \cf4 \strokec4 max-width:\cf0 \strokec5  \cf12 \strokec12 90%\cf0 \strokec5 ; \cf4 \strokec4 width:\cf0 \strokec5  \cf12 \strokec12 400px\cf0 \strokec5 ; \}\cb1 \
\cb3         \cf7 \strokec7 .message-box-content\cf0 \strokec5  \cf7 \strokec7 h2\cf0 \strokec5  \{ \cf4 \strokec4 margin-top:\cf0 \strokec5  \cf12 \strokec12 0\cf0 \strokec5 ; \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #333\cf0 \strokec5 ; \cf4 \strokec4 font-size:\cf12 \strokec12 22px\cf0 \strokec5 ; \}\cb1 \
\cb3         \cf7 \strokec7 .message-box-content\cf0 \strokec5  \cf7 \strokec7 p\cf0 \strokec5  \{ \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 #555\cf0 \strokec5 ; \cf4 \strokec4 margin-bottom:\cf0 \strokec5  \cf12 \strokec12 20px\cf0 \strokec5 ; \cf4 \strokec4 font-size:\cf12 \strokec12 16px\cf0 \strokec5 ;\}\cb1 \
\cb3         \cf7 \strokec7 .message-box-button\cf0 \strokec5  \{ \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #4a90e2\cf0 \strokec5 ; \cf4 \strokec4 color:\cf0 \strokec5  \cf10 \strokec10 white\cf0 \strokec5 ; \cf4 \strokec4 border:\cf0 \strokec5  \cf10 \strokec10 none\cf0 \strokec5 ; \cf4 \strokec4 padding:\cf0 \strokec5  \cf12 \strokec12 10px\cf0 \strokec5  \cf12 \strokec12 20px\cf0 \strokec5 ; \cf4 \strokec4 border-radius:\cf0 \strokec5  \cf12 \strokec12 5px\cf0 \strokec5 ; \cf4 \strokec4 cursor:\cf0 \strokec5  \cf10 \strokec10 pointer\cf0 \strokec5 ; \cf4 \strokec4 font-size:\cf0 \strokec5  \cf12 \strokec12 16px\cf0 \strokec5 ; \}\cb1 \
\cb3         \cf7 \strokec7 .message-box-button:hover\cf0 \strokec5  \{ \cf4 \strokec4 background-color:\cf0 \strokec5  \cf10 \strokec10 #357abd\cf0 \strokec5 ; \}\cb1 \
\
\cb3         \cf7 \strokec7 .setup-section\cf0 \strokec5 , \cf7 \strokec7 .gameplay-section\cf0 \strokec5 , \cf7 \strokec7 .postgame-section\cf0 \strokec5  \{\cb1 \
\cb3             \cf4 \strokec4 margin-bottom:\cf0 \strokec5  \cf12 \strokec12 20px\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 style\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 </\cf7 \strokec7 head\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cf6 \cb3 \strokec6 <\cf7 \strokec7 body\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\
\pard\pardeftab720\partightenfactor0
\cf0 \cb3     \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "gameContainer"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 h1\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "text-4xl font-bold mb-6 text-gray-800"\cf6 \strokec6 >\cf0 \strokec5 Chinese Character Drop Challenge\cf6 \strokec6 </\cf7 \strokec7 h1\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\
\cb3         \cf11 \strokec11 <!-- Setup Section -->\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "setupSection"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "setup-section"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 label\cf0 \strokec5  \cf4 \strokec4 for\cf6 \strokec6 =\cf8 \strokec8 "vocabInput"\cf6 \strokec6 >\cf0 \strokec5 Paste Vocabulary (CSV: English,Chinese):\cf6 \strokec6 </\cf7 \strokec7 label\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 textarea\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "vocabInput"\cf0 \strokec5  \cf4 \strokec4 placeholder\cf6 \strokec6 =\cf8 \strokec8 "e.g., hello,\uc0\u20320 \u22909 &#10;goodbye,\u20877 \u35265 "\cf6 \strokec6 ></\cf7 \strokec7 textarea\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 button\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "loadVocabButton"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "control-button"\cf6 \strokec6 >\cf0 \strokec5 Load Vocabulary\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 p\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "vocabStatus"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "text-sm text-gray-600 mt-1 mb-3"\cf6 \strokec6 >\cf0 \strokec5 Vocabulary items: 0\cf6 \strokec6 </\cf7 \strokec7 p\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\
\cb3             \cf6 \strokec6 <\cf7 \strokec7 label\cf0 \strokec5  \cf4 \strokec4 for\cf6 \strokec6 =\cf8 \strokec8 "playerName"\cf6 \strokec6 >\cf0 \strokec5 Player Name:\cf6 \strokec6 </\cf7 \strokec7 label\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 input\cf0 \strokec5  \cf4 \strokec4 type\cf6 \strokec6 =\cf8 \strokec8 "text"\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "playerName"\cf0 \strokec5  \cf4 \strokec4 placeholder\cf6 \strokec6 =\cf8 \strokec8 "Enter your name"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\
\cb3             \cf6 \strokec6 <\cf7 \strokec7 label\cf0 \strokec5  \cf4 \strokec4 for\cf6 \strokec6 =\cf8 \strokec8 "numWordsToReview"\cf6 \strokec6 >\cf0 \strokec5 Number of Words to Review:\cf6 \strokec6 </\cf7 \strokec7 label\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 input\cf0 \strokec5  \cf4 \strokec4 type\cf6 \strokec6 =\cf8 \strokec8 "number"\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "numWordsToReview"\cf0 \strokec5  \cf4 \strokec4 value\cf6 \strokec6 =\cf8 \strokec8 "10"\cf0 \strokec5  \cf4 \strokec4 min\cf6 \strokec6 =\cf8 \strokec8 "1"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cb1 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 button\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "startGameButton"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "control-button"\cf6 \strokec6 >\cf0 \strokec5 Start Challenge!\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\
\cb3         \cf11 \strokec11 <!-- Gameplay Section -->\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "gameplaySection"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "gameplay-section hidden"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "englishWordDisplay"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "mb-3 text-2xl font-semibold"\cf6 \strokec6 >\cf0 \strokec5 English Word\cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 canvas\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "gameCanvas"\cf6 \strokec6 ></\cf7 \strokec7 canvas\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "feedbackMessage"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "mt-2 text-lg h-8"\cf6 \strokec6 ></\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "score-speed-info mb-2"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3                 Score: \cf6 \strokec6 <\cf7 \strokec7 span\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "scoreDisplay"\cf6 \strokec6 >\cf0 \strokec5 0\cf6 \strokec6 </\cf7 \strokec7 span\cf6 \strokec6 >\cf0 \strokec5  | Speed: \cf6 \strokec6 <\cf7 \strokec7 span\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "speedDisplay"\cf6 \strokec6 >\cf0 \strokec5 1\cf6 \strokec6 </\cf7 \strokec7 span\cf6 \strokec6 >\cf0 \strokec5  | Words Left: \cf6 \strokec6 <\cf7 \strokec7 span\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "wordsLeftDisplay"\cf6 \strokec6 >\cf0 \strokec5 0\cf6 \strokec6 </\cf7 \strokec7 span\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "speed-controls"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3                 \cf6 \strokec6 <\cf7 \strokec7 button\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "decreaseSpeedButton"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "control-button"\cf6 \strokec6 >\cf0 \strokec5 - Speed\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3                 \cf6 \strokec6 <\cf7 \strokec7 button\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "increaseSpeedButton"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "control-button"\cf6 \strokec6 >\cf0 \strokec5 + Speed\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3              \cf6 \strokec6 <\cf7 \strokec7 button\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "resetGameButton"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "control-button mt-3"\cf6 \strokec6 >\cf0 \strokec5 End & Reset Game\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cb1 \
\cb3         \cf11 \strokec11 <!-- Post-Game Section -->\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "endGameSummary"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "postgame-section hidden"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 h2\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "congratsMessage"\cf6 \strokec6 >\cf0 \strokec5 \uc0\u55356 \u57225  Congratulations! \u55356 \u57225 \cf6 \strokec6 </\cf7 \strokec7 h2\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 p\cf6 \strokec6 >\cf0 \strokec5 Player: \cf6 \strokec6 <\cf7 \strokec7 span\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "summaryPlayerName"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "font-semibold"\cf6 \strokec6 ></\cf7 \strokec7 span\cf6 \strokec6 ></\cf7 \strokec7 p\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 p\cf6 \strokec6 >\cf0 \strokec5 Date: \cf6 \strokec6 <\cf7 \strokec7 span\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "summaryDate"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "font-semibold"\cf6 \strokec6 ></\cf7 \strokec7 span\cf6 \strokec6 ></\cf7 \strokec7 p\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 p\cf6 \strokec6 >\cf0 \strokec5 Final Score: \cf6 \strokec6 <\cf7 \strokec7 span\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "summaryScore"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "font-semibold text-xl text-green-600"\cf6 \strokec6 ></\cf7 \strokec7 span\cf6 \strokec6 ></\cf7 \strokec7 p\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cb1 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "highScoresBoard"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3                 \cf6 \strokec6 <\cf7 \strokec7 h3\cf6 \strokec6 >\cf0 \strokec5 Top 3 Records\cf6 \strokec6 </\cf7 \strokec7 h3\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3                 \cf6 \strokec6 <\cf7 \strokec7 ul\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "highScoresList"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3                     \cf11 \strokec11 <!-- Scores will be populated here -->\cf0 \cb1 \strokec5 \
\cb3                 \cf6 \strokec6 </\cf7 \strokec7 ul\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 button\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "playAgainButton"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "control-button mt-4"\cf6 \strokec6 >\cf0 \strokec5 Play Again\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\
\cb3     \cf11 \strokec11 <!-- Custom Message Box -->\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "customMessageBoxOverlay"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "message-box-overlay hidden"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 <\cf7 \strokec7 div\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "message-box-content"\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 h2\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "messageBoxTitle"\cf6 \strokec6 >\cf0 \strokec5 Message\cf6 \strokec6 </\cf7 \strokec7 h2\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 p\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "messageBoxText"\cf6 \strokec6 >\cf0 \strokec5 This is a message.\cf6 \strokec6 </\cf7 \strokec7 p\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3             \cf6 \strokec6 <\cf7 \strokec7 button\cf0 \strokec5  \cf4 \strokec4 id\cf6 \strokec6 =\cf8 \strokec8 "messageBoxButton"\cf0 \strokec5  \cf4 \strokec4 class\cf6 \strokec6 =\cf8 \strokec8 "message-box-button"\cf6 \strokec6 >\cf0 \strokec5 OK\cf6 \strokec6 </\cf7 \strokec7 button\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 div\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\
\cb3     \cf6 \strokec6 <\cf7 \strokec7 script\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cb3         \cf11 \strokec11 // --- DOM Elements ---\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  canvas = document.getElementById(\cf9 \strokec9 'gameCanvas'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  ctx = canvas.getContext(\cf9 \strokec9 '2d'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  englishWordDisplay = document.getElementById(\cf9 \strokec9 'englishWordDisplay'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  feedbackMessage = document.getElementById(\cf9 \strokec9 'feedbackMessage'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  scoreDisplay = document.getElementById(\cf9 \strokec9 'scoreDisplay'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  speedDisplay = document.getElementById(\cf9 \strokec9 'speedDisplay'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  wordsLeftDisplay = document.getElementById(\cf9 \strokec9 'wordsLeftDisplay'\cf0 \strokec5 );\cb1 \
\
\cb3         \cf13 \strokec13 const\cf0 \strokec5  vocabInput = document.getElementById(\cf9 \strokec9 'vocabInput'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  loadVocabButton = document.getElementById(\cf9 \strokec9 'loadVocabButton'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  vocabStatus = document.getElementById(\cf9 \strokec9 'vocabStatus'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  playerNameInput = document.getElementById(\cf9 \strokec9 'playerName'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  numWordsToReviewInput = document.getElementById(\cf9 \strokec9 'numWordsToReview'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  startGameButton = document.getElementById(\cf9 \strokec9 'startGameButton'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  resetGameButton = document.getElementById(\cf9 \strokec9 'resetGameButton'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  increaseSpeedButton = document.getElementById(\cf9 \strokec9 'increaseSpeedButton'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  decreaseSpeedButton = document.getElementById(\cf9 \strokec9 'decreaseSpeedButton'\cf0 \strokec5 );\cb1 \
\cb3         \cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  setupSection = document.getElementById(\cf9 \strokec9 'setupSection'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  gameplaySection = document.getElementById(\cf9 \strokec9 'gameplaySection'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  endGameSummary = document.getElementById(\cf9 \strokec9 'endGameSummary'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  congratsMessage = document.getElementById(\cf9 \strokec9 'congratsMessage'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  summaryPlayerName = document.getElementById(\cf9 \strokec9 'summaryPlayerName'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  summaryDate = document.getElementById(\cf9 \strokec9 'summaryDate'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  summaryScore = document.getElementById(\cf9 \strokec9 'summaryScore'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  highScoresList = document.getElementById(\cf9 \strokec9 'highScoresList'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  playAgainButton = document.getElementById(\cf9 \strokec9 'playAgainButton'\cf0 \strokec5 );\cb1 \
\
\cb3         \cf13 \strokec13 const\cf0 \strokec5  customMessageBoxOverlay = document.getElementById(\cf9 \strokec9 'customMessageBoxOverlay'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  messageBoxTitle = document.getElementById(\cf9 \strokec9 'messageBoxTitle'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  messageBoxText = document.getElementById(\cf9 \strokec9 'messageBoxText'\cf0 \strokec5 );\cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  messageBoxButton = document.getElementById(\cf9 \strokec9 'messageBoxButton'\cf0 \strokec5 );\cb1 \
\
\cb3         \cf11 \strokec11 // --- Game State & Configuration ---\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  mainVocabulary = [];\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  sessionVocabulary = [];\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  currentWord = \cf13 \strokec13 null\cf0 \strokec5 ;\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  fallingWords = []; \cf11 \strokec11 // \{text: "\uc0\u23383 ", x: 0, y: 0, isCorrect: false, color: '#333', id: 0/1\}\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  score = \cf14 \strokec14 0\cf0 \strokec5 ;\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  dropSpeed = \cf14 \strokec14 1\cf0 \strokec5 ;\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  gameLoopId = \cf13 \strokec13 null\cf0 \strokec5 ;\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  isGameActive = \cf13 \strokec13 false\cf0 \strokec5 ;\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  wordsReviewedCount = \cf14 \strokec14 0\cf0 \strokec5 ;\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  totalWordsInSession = \cf14 \strokec14 0\cf0 \strokec5 ;\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  currentPlayerName = \cf9 \strokec9 "Player"\cf0 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 const\cf0 \strokec5  \cf15 \strokec15 WORD_FONT_SIZE\cf0 \strokec5  = \cf14 \strokec14 38\cf0 \strokec5 ; \cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  \cf15 \strokec15 WORD_PADDING\cf0 \strokec5  = \cf14 \strokec14 25\cf0 \strokec5 ; \cb1 \
\cb3         \cf13 \strokec13 const\cf0 \strokec5  \cf15 \strokec15 HIGH_SCORES_KEY\cf0 \strokec5  = \cf9 \strokec9 'chineseGameHighScores'\cf0 \strokec5 ;\cb1 \
\
\cb3         \cf11 \strokec11 // --- Sound Effects (Tone.js) ---\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  correctSound, incorrectSound, missSound;\cb1 \
\cb3         \cf13 \strokec13 let\cf0 \strokec5  soundsReady = \cf13 \strokec13 false\cf0 \strokec5 ;\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  initializeSounds() \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (\cf13 \strokec13 typeof\cf0 \strokec5  \cf15 \strokec15 Tone\cf0 \strokec5  !== \cf9 \strokec9 'undefined'\cf0 \strokec5 ) \{\cb1 \
\cb3                 correctSound = \cf13 \strokec13 new\cf0 \strokec5  \cf15 \strokec15 Tone\cf0 \strokec5 .\cf15 \strokec15 Synth\cf0 \strokec5 (\{\cb1 \
\cb3                     oscillator: \{ type: \cf9 \strokec9 "sine"\cf0 \strokec5  \},\cb1 \
\cb3                     envelope: \{ attack: \cf14 \strokec14 0.01\cf0 \strokec5 , decay: \cf14 \strokec14 0.1\cf0 \strokec5 , sustain: \cf14 \strokec14 0.05\cf0 \strokec5 , release: \cf14 \strokec14 0.2\cf0 \strokec5  \}\cb1 \
\cb3                 \}).toDestination();\cb1 \
\
\cb3                 incorrectSound = \cf13 \strokec13 new\cf0 \strokec5  \cf15 \strokec15 Tone\cf0 \strokec5 .\cf15 \strokec15 Synth\cf0 \strokec5 (\{\cb1 \
\cb3                     oscillator: \{ type: \cf9 \strokec9 "square"\cf0 \strokec5  \},\cb1 \
\cb3                     envelope: \{ attack: \cf14 \strokec14 0.02\cf0 \strokec5 , decay: \cf14 \strokec14 0.2\cf0 \strokec5 , sustain: \cf14 \strokec14 0.01\cf0 \strokec5 , release: \cf14 \strokec14 0.2\cf0 \strokec5  \},\cb1 \
\cb3                     volume: -\cf14 \strokec14 10\cf0 \strokec5  \cb1 \
\cb3                 \}).toDestination();\cb1 \
\cb3                 \cb1 \
\cb3                 missSound = \cf13 \strokec13 new\cf0 \strokec5  \cf15 \strokec15 Tone\cf0 \strokec5 .\cf15 \strokec15 NoiseSynth\cf0 \strokec5 (\{\cb1 \
\cb3                     noise: \{ type: \cf9 \strokec9 "pink"\cf0 \strokec5 \},\cb1 \
\cb3                     envelope: \{ attack: \cf14 \strokec14 0.005\cf0 \strokec5 , decay: \cf14 \strokec14 0.1\cf0 \strokec5 , sustain: \cf14 \strokec14 0\cf0 \strokec5 \}\cb1 \
\cb3                 \}).toDestination();\cb1 \
\
\cb3                 soundsReady = \cf13 \strokec13 true\cf0 \strokec5 ;\cb1 \
\cb3                 console.log(\cf9 \strokec9 "Tone.js sounds initialized."\cf0 \strokec5 );\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \{\cb1 \
\cb3                 console.error(\cf9 \strokec9 "Tone.js not loaded. Sound effects will be unavailable."\cf0 \strokec5 );\cb1 \
\cb3                 soundsReady = \cf13 \strokec13 false\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\cb3         initializeSounds();\cb1 \
\
\cb3         \cf11 \strokec11 // --- Speech Synthesis ---\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  speakChineseWord(textToSpeak) \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (\cf9 \strokec9 'speechSynthesis'\cf0 \strokec5  \cf13 \strokec13 in\cf0 \strokec5  window) \{\cb1 \
\cb3                 \cf11 \strokec11 // Cancel any ongoing speech before starting a new one\cf0 \cb1 \strokec5 \
\cb3                 window.speechSynthesis.cancel();\cb1 \
\cb3                 \cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  utterance = \cf13 \strokec13 new\cf0 \strokec5  \cf15 \strokec15 SpeechSynthesisUtterance\cf0 \strokec5 (textToSpeak);\cb1 \
\cb3                 utterance.lang = \cf9 \strokec9 'zh-CN'\cf0 \strokec5 ; \cf11 \strokec11 // Mandarin Chinese (China)\cf0 \cb1 \strokec5 \
\cb3                 utterance.rate = \cf14 \strokec14 0.7\cf0 \strokec5 ; \cf11 \strokec11 // Slower speech rate (default 1, previous 0.9)\cf0 \cb1 \strokec5 \
\cb3                 utterance.pitch = \cf14 \strokec14 1\cf0 \strokec5 ; \cf11 \strokec11 // Default is 1\cf0 \cb1 \strokec5 \
\cb3                 \cb1 \
\cb3                 window.speechSynthesis.speak(utterance);\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \{\cb1 \
\cb3                 console.warn(\cf9 \strokec9 "Speech synthesis not supported in this browser."\cf0 \strokec5 );\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\
\
\cb3         \cf11 \strokec11 // --- Utility Functions ---\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  getRandomInt(min, max) \{\cb1 \
\cb3             \cf13 \strokec13 return\cf0 \strokec5  \cf15 \strokec15 Math\cf0 \strokec5 .floor(\cf15 \strokec15 Math\cf0 \strokec5 .random() * (max - min + \cf14 \strokec14 1\cf0 \strokec5 )) + min;\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  showMessage(title, text, onOk) \{\cb1 \
\cb3             messageBoxTitle.textContent = title;\cb1 \
\cb3             messageBoxText.textContent = text;\cb1 \
\cb3             customMessageBoxOverlay.classList.remove(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3             messageBoxButton.onclick = () => \{\cb1 \
\cb3                 customMessageBoxOverlay.classList.add(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3                 \cf13 \strokec13 if\cf0 \strokec5  (onOk) onOk();\cb1 \
\cb3             \};\cb1 \
\cb3         \}\cb1 \
\cb3         \cb1 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  shuffleArray(array) \{\cb1 \
\cb3             \cf13 \strokec13 for\cf0 \strokec5  (\cf13 \strokec13 let\cf0 \strokec5  i = array.length - \cf14 \strokec14 1\cf0 \strokec5 ; i > \cf14 \strokec14 0\cf0 \strokec5 ; i--) \{\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  j = \cf15 \strokec15 Math\cf0 \strokec5 .floor(\cf15 \strokec15 Math\cf0 \strokec5 .random() * (i + \cf14 \strokec14 1\cf0 \strokec5 ));\cb1 \
\cb3                 [array[i], array[j]] = [array[j], array[i]];\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf11 \strokec11 // --- Canvas Setup ---\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  resizeCanvas() \{\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  gameContainerWidth = document.getElementById(\cf9 \strokec9 'gameContainer'\cf0 \strokec5 ).offsetWidth;\cb1 \
\cb3             canvas.width = \cf15 \strokec15 Math\cf0 \strokec5 .min(gameContainerWidth - \cf14 \strokec14 60\cf0 \strokec5 , \cf14 \strokec14 600\cf0 \strokec5 ); \cb1 \
\cb3             canvas.height = \cf14 \strokec14 450\cf0 \strokec5 ; \cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (isGameActive && fallingWords.length > \cf14 \strokec14 0\cf0 \strokec5 ) \{\cb1 \
\cb3                  draw(); \cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \cf13 \strokec13 if\cf0 \strokec5  (!isGameActive && gameplaySection.classList.contains(\cf9 \strokec9 'hidden'\cf0 \strokec5 )) \{\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \cf13 \strokec13 if\cf0 \strokec5  (!isGameActive) \{\cb1 \
\cb3                  drawInitialCanvasMessage(\cf9 \strokec9 "Game Paused. Click word or use keys."\cf0 \strokec5 );\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  drawInitialCanvasMessage(message) \{\cb1 \
\cb3             ctx.clearRect(\cf14 \strokec14 0\cf0 \strokec5 , \cf14 \strokec14 0\cf0 \strokec5 , canvas.width, canvas.height);\cb1 \
\cb3             ctx.fillStyle = \cf9 \strokec9 '#7f8c8d'\cf0 \strokec5 ;\cb1 \
\cb3             ctx.font = \cf9 \strokec9 "20px 'Inter', sans-serif"\cf0 \strokec5 ;\cb1 \
\cb3             ctx.textAlign = \cf9 \strokec9 'center'\cf0 \strokec5 ;\cb1 \
\cb3             ctx.fillText(message, canvas.width / \cf14 \strokec14 2\cf0 \strokec5 , canvas.height / \cf14 \strokec14 2\cf0 \strokec5 );\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf11 \strokec11 // --- Vocabulary Management ---\cf0 \cb1 \strokec5 \
\cb3         loadVocabButton.addEventListener(\cf9 \strokec9 'click'\cf0 \strokec5 , () => \{\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  csvData = vocabInput.value.trim();\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (!csvData) \{\cb1 \
\cb3                 showMessage(\cf9 \strokec9 "Vocabulary Error"\cf0 \strokec5 , \cf9 \strokec9 "Textarea is empty. Please paste your vocabulary."\cf0 \strokec5 );\cb1 \
\cb3                 \cf13 \strokec13 return\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\cb3             \cf13 \strokec13 try\cf0 \strokec5  \{\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  lines = csvData.split(\cf9 \strokec9 '\\n'\cf0 \strokec5 );\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  newVocab = [];\cb1 \
\cb3                 lines.forEach(line => \{\cb1 \
\cb3                     \cf13 \strokec13 const\cf0 \strokec5  parts = line.split(\cf9 \strokec9 ','\cf0 \strokec5 );\cb1 \
\cb3                     \cf13 \strokec13 if\cf0 \strokec5  (parts.length === \cf14 \strokec14 2\cf0 \strokec5 ) \{\cb1 \
\cb3                         \cf13 \strokec13 const\cf0 \strokec5  english = parts[\cf14 \strokec14 0\cf0 \strokec5 ].trim();\cb1 \
\cb3                         \cf13 \strokec13 const\cf0 \strokec5  chinese = parts[\cf14 \strokec14 1\cf0 \strokec5 ].trim();\cb1 \
\cb3                         \cf13 \strokec13 if\cf0 \strokec5  (english && chinese) \{\cb1 \
\cb3                             newVocab.push(\{ english, chinese \});\cb1 \
\cb3                         \}\cb1 \
\cb3                     \}\cb1 \
\cb3                 \});\cb1 \
\cb3                 \cf13 \strokec13 if\cf0 \strokec5  (newVocab.length === \cf14 \strokec14 0\cf0 \strokec5 ) \{\cb1 \
\cb3                     \cf13 \strokec13 throw\cf0 \strokec5  \cf13 \strokec13 new\cf0 \strokec5  \cf15 \strokec15 Error\cf0 \strokec5 (\cf9 \strokec9 "No valid word pairs found. Ensure format is 'English,Chinese' per line."\cf0 \strokec5 );\cb1 \
\cb3                 \}\cb1 \
\cb3                 mainVocabulary = newVocab;\cb1 \
\cb3                 vocabStatus.textContent = \cf9 \strokec9 `Vocabulary items: \cf0 \strokec5 $\{mainVocabulary.length\}\cf9 \strokec9 `\cf0 \strokec5 ;\cb1 \
\cb3                 showMessage(\cf9 \strokec9 "Success"\cf0 \strokec5 , \cf9 \strokec9 `Loaded \cf0 \strokec5 $\{mainVocabulary.length\}\cf9 \strokec9  vocabulary items!`\cf0 \strokec5 );\cb1 \
\cb3                 numWordsToReviewInput.max = mainVocabulary.length; \cb1 \
\cb3             \} \cf13 \strokec13 catch\cf0 \strokec5  (error) \{\cb1 \
\cb3                 showMessage(\cf9 \strokec9 "Vocabulary Error"\cf0 \strokec5 , \cf9 \strokec9 `Failed to parse vocabulary: \cf0 \strokec5 $\{error.message\}\cf9 \strokec9 `\cf0 \strokec5 );\cb1 \
\cb3                 mainVocabulary = [];\cb1 \
\cb3                 vocabStatus.textContent = \cf9 \strokec9 `Vocabulary items: 0`\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\cb3         \});\cb1 \
\
\cb3         \cf11 \strokec11 // --- Game Logic ---\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  startGame() \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (\cf13 \strokec13 typeof\cf0 \strokec5  \cf15 \strokec15 Tone\cf0 \strokec5  !== \cf9 \strokec9 'undefined'\cf0 \strokec5  && \cf15 \strokec15 Tone\cf0 \strokec5 .context.state !== \cf9 \strokec9 'running'\cf0 \strokec5 ) \{\cb1 \
\cb3                 \cf15 \strokec15 Tone\cf0 \strokec5 .start().then(() => \{\cb1 \
\cb3                     console.log(\cf9 \strokec9 "Audio context started by user gesture."\cf0 \strokec5 );\cb1 \
\cb3                     \cf13 \strokec13 if\cf0 \strokec5  (!soundsReady) initializeSounds(); \cb1 \
\cb3                     proceedWithGameStart();\cb1 \
\cb3                 \}).\cf13 \strokec13 catch\cf0 \strokec5 (e => \{\cb1 \
\cb3                     console.error(\cf9 \strokec9 "Error starting Tone.js audio context:"\cf0 \strokec5 , e);\cb1 \
\cb3                     proceedWithGameStart(); \cb1 \
\cb3                 \});\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \{\cb1 \
\cb3                  \cf13 \strokec13 if\cf0 \strokec5  (!soundsReady && \cf13 \strokec13 typeof\cf0 \strokec5  \cf15 \strokec15 Tone\cf0 \strokec5  !== \cf9 \strokec9 'undefined'\cf0 \strokec5 ) initializeSounds();\cb1 \
\cb3                 proceedWithGameStart();\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\cb3         \cb1 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  proceedWithGameStart() \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (mainVocabulary.length === \cf14 \strokec14 0\cf0 \strokec5 ) \{\cb1 \
\cb3                 showMessage(\cf9 \strokec9 "Game Start Error"\cf0 \strokec5 , \cf9 \strokec9 "Please load your vocabulary first."\cf0 \strokec5 );\cb1 \
\cb3                 \cf13 \strokec13 return\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\cb3             currentPlayerName = playerNameInput.value.trim() || \cf9 \strokec9 "Anonymous Player"\cf0 \strokec5 ;\cb1 \
\cb3             totalWordsInSession = parseInt(numWordsToReviewInput.value, \cf14 \strokec14 10\cf0 \strokec5 );\cb1 \
\
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (isNaN(totalWordsInSession) || totalWordsInSession <= \cf14 \strokec14 0\cf0 \strokec5 ) \{\cb1 \
\cb3                 showMessage(\cf9 \strokec9 "Game Start Error"\cf0 \strokec5 , \cf9 \strokec9 "Please enter a valid number of words to review."\cf0 \strokec5 );\cb1 \
\cb3                 \cf13 \strokec13 return\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (totalWordsInSession > mainVocabulary.length) \{\cb1 \
\cb3                 showMessage(\cf9 \strokec9 "Game Start Error"\cf0 \strokec5 , \cf9 \strokec9 `Requested words (\cf0 \strokec5 $\{totalWordsInSession\}\cf9 \strokec9 ) exceed available vocabulary (\cf0 \strokec5 $\{mainVocabulary.length\}\cf9 \strokec9 ). Please adjust or load more words.`\cf0 \strokec5 );\cb1 \
\cb3                 \cf13 \strokec13 return\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\
\cb3             sessionVocabulary = [...mainVocabulary]; \cb1 \
\cb3             shuffleArray(sessionVocabulary); \cb1 \
\cb3             sessionVocabulary = sessionVocabulary.slice(\cf14 \strokec14 0\cf0 \strokec5 , totalWordsInSession); \cb1 \
\
\cb3             wordsReviewedCount = \cf14 \strokec14 0\cf0 \strokec5 ;\cb1 \
\cb3             score = \cf14 \strokec14 0\cf0 \strokec5 ;\cb1 \
\cb3             scoreDisplay.textContent = score;\cb1 \
\cb3             wordsLeftDisplay.textContent = totalWordsInSession;\cb1 \
\cb3             feedbackMessage.textContent = \cf9 \strokec9 ""\cf0 \strokec5 ;\cb1 \
\cb3             \cb1 \
\cb3             setupSection.classList.add(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3             gameplaySection.classList.remove(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3             endGameSummary.classList.add(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3             \cb1 \
\cb3             isGameActive = \cf13 \strokec13 true\cf0 \strokec5 ;\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (selectNewWord()) \{\cb1 \
\cb3                 gameLoop();\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \{ \cb1 \
\cb3                 endCurrentGame(\cf9 \strokec9 "Error starting game session."\cf0 \strokec5 );\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  selectNewWord() \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (wordsReviewedCount >= totalWordsInSession || sessionVocabulary.length === \cf14 \strokec14 0\cf0 \strokec5 ) \{\cb1 \
\cb3                 endCurrentGame();\cb1 \
\cb3                 \cf13 \strokec13 return\cf0 \strokec5  \cf13 \strokec13 false\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\
\cb3             currentWord = sessionVocabulary.pop(); \cb1 \
\cb3             englishWordDisplay.textContent = currentWord.english;\cb1 \
\cb3             spawnFallingWords();\cb1 \
\cb3             \cf13 \strokec13 return\cf0 \strokec5  \cf13 \strokec13 true\cf0 \strokec5 ;\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  spawnFallingWords() \{\cb1 \
\cb3             fallingWords = [];\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  correctChinese = currentWord.chinese;\cb1 \
\cb3             \cf13 \strokec13 let\cf0 \strokec5  distractorChinese = \cf9 \strokec9 ""\cf0 \strokec5 ;\cb1 \
\cb3             \cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (mainVocabulary.length > \cf14 \strokec14 1\cf0 \strokec5 ) \{ \cb1 \
\cb3                 \cf13 \strokec13 do\cf0 \strokec5  \{\cb1 \
\cb3                     \cf13 \strokec13 const\cf0 \strokec5  distractorWordEntry = mainVocabulary[getRandomInt(\cf14 \strokec14 0\cf0 \strokec5 , mainVocabulary.length - \cf14 \strokec14 1\cf0 \strokec5 )];\cb1 \
\cb3                     distractorChinese = distractorWordEntry.chinese;\cb1 \
\cb3                 \} \cf13 \strokec13 while\cf0 \strokec5  (distractorChinese === correctChinese);\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \{\cb1 \
\cb3                 distractorChinese = \cf9 \strokec9 "\uc0\u38169 "\cf0 \strokec5 ; \cb1 \
\cb3             \}\cb1 \
\
\cb3             \cf13 \strokec13 const\cf0 \strokec5  positions = [canvas.width * \cf14 \strokec14 0.30\cf0 \strokec5 , canvas.width * \cf14 \strokec14 0.70\cf0 \strokec5 ]; \cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  isCorrectFirst = \cf15 \strokec15 Math\cf0 \strokec5 .random() < \cf14 \strokec14 0.5\cf0 \strokec5 ;\cb1 \
\
\cb3             \cf13 \strokec13 const\cf0 \strokec5  word1 = \{\cb1 \
\cb3                 text: isCorrectFirst ? correctChinese : distractorChinese,\cb1 \
\cb3                 x: positions[\cf14 \strokec14 0\cf0 \strokec5 ],\cb1 \
\cb3                 y: \cf15 \strokec15 WORD_FONT_SIZE\cf0 \strokec5 ,\cb1 \
\cb3                 isCorrect: isCorrectFirst,\cb1 \
\cb3                 color: \cf9 \strokec9 '#2c3e50'\cf0 \strokec5 ,\cb1 \
\cb3                 id: \cf14 \strokec14 0\cf0 \strokec5  \cb1 \
\cb3             \};\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  word2 = \{\cb1 \
\cb3                 text: isCorrectFirst ? distractorChinese : correctChinese,\cb1 \
\cb3                 x: positions[\cf14 \strokec14 1\cf0 \strokec5 ],\cb1 \
\cb3                 y: \cf15 \strokec15 WORD_FONT_SIZE\cf0 \strokec5 ,\cb1 \
\cb3                 isCorrect: !isCorrectFirst,\cb1 \
\cb3                 color: \cf9 \strokec9 '#2c3e50'\cf0 \strokec5 ,\cb1 \
\cb3                 id: \cf14 \strokec14 1\cf0 \strokec5  \cb1 \
\cb3             \};\cb1 \
\cb3             fallingWords.push(word1, word2);\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  updateFallingWords() \{\cb1 \
\cb3             \cf13 \strokec13 let\cf0 \strokec5  wordHitBottomThisTurn = \cf13 \strokec13 false\cf0 \strokec5 ;\cb1 \
\cb3             \cf13 \strokec13 for\cf0 \strokec5  (\cf13 \strokec13 let\cf0 \strokec5  i = fallingWords.length - \cf14 \strokec14 1\cf0 \strokec5 ; i >= \cf14 \strokec14 0\cf0 \strokec5 ; i--) \{\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  word = fallingWords[i];\cb1 \
\cb3                 word.y += dropSpeed;\cb1 \
\
\cb3                 \cf13 \strokec13 if\cf0 \strokec5  (word.y > canvas.height + \cf15 \strokec15 WORD_PADDING\cf0 \strokec5 ) \{\cb1 \
\cb3                     \cf13 \strokec13 if\cf0 \strokec5  (word.isCorrect) \{\cb1 \
\cb3                         feedbackMessage.textContent = \cf9 \strokec9 `Missed! It was "\cf0 \strokec5 $\{word.text\}\cf9 \strokec9 ".`\cf0 \strokec5 ;\cb1 \
\cb3                         feedbackMessage.style.color = \cf9 \strokec9 '#e74c3c'\cf0 \strokec5 ;\cb1 \
\cb3                         \cf13 \strokec13 if\cf0 \strokec5  (soundsReady && missSound) \{\cb1 \
\cb3                             missSound.triggerAttackRelease(\cf9 \strokec9 "8n"\cf0 \strokec5 , \cf15 \strokec15 Tone\cf0 \strokec5 .now());\cb1 \
\cb3                         \}\cb1 \
\cb3                     \}\cb1 \
\cb3                     fallingWords.splice(i, \cf14 \strokec14 1\cf0 \strokec5 );\cb1 \
\cb3                     wordHitBottomThisTurn = \cf13 \strokec13 true\cf0 \strokec5 ;\cb1 \
\cb3                 \}\cb1 \
\cb3             \}\cb1 \
\
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (wordHitBottomThisTurn && fallingWords.length === \cf14 \strokec14 0\cf0 \strokec5 ) \{ \cb1 \
\cb3                 wordsReviewedCount++;\cb1 \
\cb3                 wordsLeftDisplay.textContent = totalWordsInSession - wordsReviewedCount;\cb1 \
\cb3                 setTimeout(() => \{\cb1 \
\cb3                     \cf13 \strokec13 if\cf0 \strokec5  (isGameActive) selectNewWord();\cb1 \
\cb3                 \}, \cf14 \strokec14 1200\cf0 \strokec5 );\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  drawFallingWords() \{\cb1 \
\cb3             fallingWords.forEach(word => \{\cb1 \
\cb3                 ctx.fillStyle = word.color;\cb1 \
\cb3                 ctx.font = \cf9 \strokec9 `\cf0 \strokec5 $\{\cf15 \strokec15 WORD_FONT_SIZE\cf0 \strokec5 \}\cf9 \strokec9 px 'Noto Sans SC', sans-serif`\cf0 \strokec5 ;\cb1 \
\cb3                 ctx.textAlign = \cf9 \strokec9 'center'\cf0 \strokec5 ;\cb1 \
\cb3                 ctx.fillText(word.text, word.x, word.y);\cb1 \
\cb3             \});\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  draw() \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (!isGameActive && fallingWords.length === \cf14 \strokec14 0\cf0 \strokec5 ) \cf13 \strokec13 return\cf0 \strokec5 ; \cb1 \
\cb3             ctx.clearRect(\cf14 \strokec14 0\cf0 \strokec5 , \cf14 \strokec14 0\cf0 \strokec5 , canvas.width, canvas.height);\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5 (isGameActive) updateFallingWords(); \cb1 \
\cb3             drawFallingWords();\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  gameLoop() \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (!isGameActive && fallingWords.length === \cf14 \strokec14 0\cf0 \strokec5  && wordsReviewedCount >= totalWordsInSession) \{ \cb1 \
\cb3                 cancelAnimationFrame(gameLoopId);\cb1 \
\cb3                 \cf13 \strokec13 return\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\cb3             draw();\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (isGameActive || fallingWords.length > \cf14 \strokec14 0\cf0 \strokec5 ) \{ \cb1 \
\cb3                  gameLoopId = requestAnimationFrame(gameLoop);\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\cb3         \cb1 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  processAnswer(selectedWord) \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (!isGameActive) \cf13 \strokec13 return\cf0 \strokec5 ; \cb1 \
\
\cb3             isGameActive = \cf13 \strokec13 false\cf0 \strokec5 ; \cb1 \
\cb3             cancelAnimationFrame(gameLoopId); \cb1 \
\
\cb3             wordsReviewedCount++;\cb1 \
\cb3             wordsLeftDisplay.textContent = totalWordsInSession - wordsReviewedCount;\cb1 \
\
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (selectedWord.isCorrect) \{\cb1 \
\cb3                 score++;\cb1 \
\cb3                 feedbackMessage.textContent = \cf9 \strokec9 "Correct! \uc0\u22826 \u26834 \u20102 !"\cf0 \strokec5 ;\cb1 \
\cb3                 feedbackMessage.style.color = \cf9 \strokec9 '#2ecc71'\cf0 \strokec5 ;\cb1 \
\cb3                 selectedWord.color = \cf9 \strokec9 '#2ecc71'\cf0 \strokec5 ;\cb1 \
\cb3                 \cf13 \strokec13 if\cf0 \strokec5  (soundsReady && correctSound) \{\cb1 \
\cb3                     correctSound.triggerAttackRelease(\cf9 \strokec9 "C5"\cf0 \strokec5 , \cf9 \strokec9 "8n"\cf0 \strokec5 , \cf15 \strokec15 Tone\cf0 \strokec5 .now()); \cb1 \
\cb3                     correctSound.triggerAttackRelease(\cf9 \strokec9 "G5"\cf0 \strokec5 , \cf9 \strokec9 "8n"\cf0 \strokec5 , \cf15 \strokec15 Tone\cf0 \strokec5 .now() + \cf14 \strokec14 0.15\cf0 \strokec5 ); \cb1 \
\cb3                     setTimeout(() => speakChineseWord(currentWord.chinese), \cf14 \strokec14 300\cf0 \strokec5 ); \cb1 \
\cb3                 \} \cf13 \strokec13 else\cf0 \strokec5  \{\cb1 \
\cb3                     speakChineseWord(currentWord.chinese);\cb1 \
\cb3                 \}\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \{\cb1 \
\cb3                 feedbackMessage.textContent = \cf9 \strokec9 `Incorrect. It's "\cf0 \strokec5 $\{currentWord.chinese\}\cf9 \strokec9 ".`\cf0 \strokec5 ;\cb1 \
\cb3                 feedbackMessage.style.color = \cf9 \strokec9 '#e74c3c'\cf0 \strokec5 ;\cb1 \
\cb3                 selectedWord.color = \cf9 \strokec9 '#e74c3c'\cf0 \strokec5 ;\cb1 \
\cb3                 fallingWords.forEach(fw => \{ \cf13 \strokec13 if\cf0 \strokec5  (fw.isCorrect) fw.color = \cf9 \strokec9 '#27ae60'\cf0 \strokec5 ; \});\cb1 \
\cb3                 \cf13 \strokec13 if\cf0 \strokec5  (soundsReady && incorrectSound) \{\cb1 \
\cb3                     incorrectSound.triggerAttackRelease(\cf9 \strokec9 "C3"\cf0 \strokec5 , \cf9 \strokec9 "4n"\cf0 \strokec5 , \cf15 \strokec15 Tone\cf0 \strokec5 .now()); \cb1 \
\cb3                 \}\cb1 \
\cb3             \}\cb1 \
\cb3             scoreDisplay.textContent = score;\cb1 \
\cb3             draw(); \cb1 \
\
\cb3             setTimeout(() => \{\cb1 \
\cb3                 \cf13 \strokec13 if\cf0 \strokec5  (wordsReviewedCount < totalWordsInSession) \{\cb1 \
\cb3                     isGameActive = \cf13 \strokec13 true\cf0 \strokec5 ; \cb1 \
\cb3                     \cf13 \strokec13 if\cf0 \strokec5  (selectNewWord()) \{\cb1 \
\cb3                          gameLoop(); \cb1 \
\cb3                     \}\cb1 \
\cb3                 \} \cf13 \strokec13 else\cf0 \strokec5  \{\cb1 \
\cb3                     endCurrentGame();\cb1 \
\cb3                 \}\cb1 \
\cb3             \}, \cf14 \strokec14 1500\cf0 \strokec5 ); \cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  handleWordClick(event) \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (!isGameActive || fallingWords.length === \cf14 \strokec14 0\cf0 \strokec5 ) \cf13 \strokec13 return\cf0 \strokec5 ;\cb1 \
\
\cb3             \cf13 \strokec13 const\cf0 \strokec5  rect = canvas.getBoundingClientRect();\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  clickX = event.clientX - rect.left;\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  clickY = event.clientY - rect.top;\cb1 \
\
\cb3             \cf13 \strokec13 for\cf0 \strokec5  (\cf13 \strokec13 let\cf0 \strokec5  i = \cf14 \strokec14 0\cf0 \strokec5 ; i < fallingWords.length; i++) \{\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  word = fallingWords[i];\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  textMetrics = ctx.measureText(word.text);\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  textWidth = textMetrics.width;\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  wordLeft = word.x - textWidth / \cf14 \strokec14 2\cf0 \strokec5  - \cf15 \strokec15 WORD_PADDING\cf0 \strokec5  / \cf14 \strokec14 2\cf0 \strokec5 ;\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  wordRight = word.x + textWidth / \cf14 \strokec14 2\cf0 \strokec5  + \cf15 \strokec15 WORD_PADDING\cf0 \strokec5  / \cf14 \strokec14 2\cf0 \strokec5 ;\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  wordTop = word.y - \cf15 \strokec15 WORD_FONT_SIZE\cf0 \strokec5 ;\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  wordBottom = word.y + \cf15 \strokec15 WORD_PADDING\cf0 \strokec5  / \cf14 \strokec14 2\cf0 \strokec5 ;\cb1 \
\
\cb3                 \cf13 \strokec13 if\cf0 \strokec5  (clickX >= wordLeft && clickX <= wordRight && clickY >= wordTop && clickY <= wordBottom) \{\cb1 \
\cb3                     processAnswer(word);\cb1 \
\cb3                     \cf13 \strokec13 break\cf0 \strokec5 ; \cb1 \
\cb3                 \}\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\cb3         \cb1 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  handleKeyPress(event) \{\cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (!isGameActive || fallingWords.length === \cf14 \strokec14 0\cf0 \strokec5 ) \cf13 \strokec13 return\cf0 \strokec5 ;\cb1 \
\
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (event.key === \cf9 \strokec9 '1'\cf0 \strokec5  && fallingWords.length > \cf14 \strokec14 0\cf0 \strokec5 ) \{\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  targetWord = fallingWords.find(w => w.id === \cf14 \strokec14 0\cf0 \strokec5 ) || fallingWords[\cf14 \strokec14 0\cf0 \strokec5 ]; \cb1 \
\cb3                 \cf13 \strokec13 if\cf0 \strokec5 (targetWord) processAnswer(targetWord);\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \cf13 \strokec13 if\cf0 \strokec5  (event.key === \cf9 \strokec9 '2'\cf0 \strokec5  && fallingWords.length > \cf14 \strokec14 1\cf0 \strokec5 ) \{\cb1 \
\cb3                  \cf13 \strokec13 const\cf0 \strokec5  targetWord = fallingWords.find(w => w.id === \cf14 \strokec14 1\cf0 \strokec5 ) || fallingWords[\cf14 \strokec14 1\cf0 \strokec5 ];\cb1 \
\cb3                 \cf13 \strokec13 if\cf0 \strokec5 (targetWord) processAnswer(targetWord);\cb1 \
\cb3             \}\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  endCurrentGame(optionalMessage) \{\cb1 \
\cb3             isGameActive = \cf13 \strokec13 false\cf0 \strokec5 ;\cb1 \
\cb3             cancelAnimationFrame(gameLoopId);\cb1 \
\cb3             fallingWords = []; \cb1 \
\cb3             ctx.clearRect(\cf14 \strokec14 0\cf0 \strokec5 , \cf14 \strokec14 0\cf0 \strokec5 , canvas.width, canvas.height); \cb1 \
\cb3             window.speechSynthesis.cancel(); \cb1 \
\
\cb3             gameplaySection.classList.add(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3             endGameSummary.classList.remove(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\
\cb3             \cf13 \strokec13 const\cf0 \strokec5  today = \cf13 \strokec13 new\cf0 \strokec5  \cf15 \strokec15 Date\cf0 \strokec5 ();\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  dateString = today.toLocaleDateString();\cb1 \
\cb3             \cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5 (optionalMessage)\{\cb1 \
\cb3                  congratsMessage.textContent = \cf9 \strokec9 "Game Over"\cf0 \strokec5 ;\cb1 \
\cb3                  summaryPlayerName.textContent = currentPlayerName;\cb1 \
\cb3                  summaryDate.textContent = dateString;\cb1 \
\cb3                  summaryScore.textContent = \cf9 \strokec9 `\cf0 \strokec5 $\{score\}\cf9 \strokec9  (\cf0 \strokec5 $\{optionalMessage\}\cf9 \strokec9 )`\cf0 \strokec5 ;\cb1 \
\cb3             \} \cf13 \strokec13 else\cf0 \strokec5  \{\cb1 \
\cb3                 congratsMessage.textContent = score > totalWordsInSession * \cf14 \strokec14 0.7\cf0 \strokec5  ? \cf9 \strokec9 "\uc0\u55356 \u57225  Excellent! \u55356 \u57225 "\cf0 \strokec5  : (score > totalWordsInSession * \cf14 \strokec14 0.4\cf0 \strokec5  ? \cf9 \strokec9 "\uc0\u55357 \u56397  Good Job! \u55357 \u56397 "\cf0 \strokec5  : \cf9 \strokec9 "\uc0\u55357 \u56490  Keep Practicing! \u55357 \u56490 "\cf0 \strokec5 );\cb1 \
\cb3                 summaryPlayerName.textContent = currentPlayerName;\cb1 \
\cb3                 summaryDate.textContent = dateString;\cb1 \
\cb3                 summaryScore.textContent = \cf9 \strokec9 `\cf0 \strokec5 $\{score\}\cf9 \strokec9  / \cf0 \strokec5 $\{totalWordsInSession\}\cf9 \strokec9 `\cf0 \strokec5 ;\cb1 \
\cb3                 saveHighScore(currentPlayerName, dateString, score, totalWordsInSession);\cb1 \
\cb3             \}\cb1 \
\cb3             displayHighScores();\cb1 \
\cb3         \}\cb1 \
\cb3         \cb1 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  resetGameFull() \{\cb1 \
\cb3             cancelAnimationFrame(gameLoopId);\cb1 \
\cb3             isGameActive = \cf13 \strokec13 false\cf0 \strokec5 ;\cb1 \
\cb3             fallingWords = [];\cb1 \
\cb3             currentWord = \cf13 \strokec13 null\cf0 \strokec5 ;\cb1 \
\cb3             score = \cf14 \strokec14 0\cf0 \strokec5 ;\cb1 \
\cb3             dropSpeed = \cf14 \strokec14 1\cf0 \strokec5 ; \cb1 \
\cb3             wordsReviewedCount = \cf14 \strokec14 0\cf0 \strokec5 ;\cb1 \
\cb3             totalWordsInSession = \cf14 \strokec14 0\cf0 \strokec5 ;\cb1 \
\cb3             sessionVocabulary = [];\cb1 \
\cb3             window.speechSynthesis.cancel(); \cb1 \
\cb3             \cb1 \
\cb3             scoreDisplay.textContent = score;\cb1 \
\cb3             speedDisplay.textContent = dropSpeed.toFixed(\cf14 \strokec14 1\cf0 \strokec5 );\cb1 \
\cb3             englishWordDisplay.textContent = \cf9 \strokec9 "English Word"\cf0 \strokec5 ;\cb1 \
\cb3             feedbackMessage.textContent = \cf9 \strokec9 ""\cf0 \strokec5 ;\cb1 \
\cb3             wordsLeftDisplay.textContent = \cf9 \strokec9 "0"\cf0 \strokec5 ;\cb1 \
\cb3             \cb1 \
\cb3             gameplaySection.classList.add(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3             endGameSummary.classList.add(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3             setupSection.classList.remove(\cf9 \strokec9 'hidden'\cf0 \strokec5 ); \cb1 \
\cb3             \cb1 \
\cb3             drawInitialCanvasMessage(\cf9 \strokec9 ""\cf0 \strokec5 ); \cb1 \
\cb3             resizeCanvas(); \cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf11 \strokec11 // --- High Score Logic ---\cf0 \cb1 \strokec5 \
\cb3         \cf13 \strokec13 function\cf0 \strokec5  saveHighScore(name, date, currentScore, wordsInSession) \{\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  newScoreEntry = \{ name, date, score: currentScore, words: wordsInSession, percentage: ((currentScore/wordsInSession)*\cf14 \strokec14 100\cf0 \strokec5 ).toFixed(\cf14 \strokec14 1\cf0 \strokec5 ) \};\cb1 \
\cb3             \cf13 \strokec13 let\cf0 \strokec5  highScores = \cf15 \strokec15 JSON\cf0 \strokec5 .parse(localStorage.getItem(\cf15 \strokec15 HIGH_SCORES_KEY\cf0 \strokec5 )) || [];\cb1 \
\cb3             highScores.push(newScoreEntry);\cb1 \
\cb3             highScores.sort((a, b) => \{\cb1 \
\cb3                 \cf13 \strokec13 if\cf0 \strokec5  (b.score === a.score) \{\cb1 \
\cb3                     \cf13 \strokec13 return\cf0 \strokec5  b.percentage - a.percentage;\cb1 \
\cb3                 \}\cb1 \
\cb3                 \cf13 \strokec13 return\cf0 \strokec5  b.score - a.score;\cb1 \
\cb3             \});\cb1 \
\cb3             highScores = highScores.slice(\cf14 \strokec14 0\cf0 \strokec5 , \cf14 \strokec14 3\cf0 \strokec5 ); \cb1 \
\cb3             localStorage.setItem(\cf15 \strokec15 HIGH_SCORES_KEY\cf0 \strokec5 , \cf15 \strokec15 JSON\cf0 \strokec5 .stringify(highScores));\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf13 \strokec13 function\cf0 \strokec5  displayHighScores() \{\cb1 \
\cb3             \cf13 \strokec13 const\cf0 \strokec5  highScores = \cf15 \strokec15 JSON\cf0 \strokec5 .parse(localStorage.getItem(\cf15 \strokec15 HIGH_SCORES_KEY\cf0 \strokec5 )) || [];\cb1 \
\cb3             highScoresList.innerHTML = \cf9 \strokec9 ""\cf0 \strokec5 ; \cb1 \
\cb3             \cf13 \strokec13 if\cf0 \strokec5  (highScores.length === \cf14 \strokec14 0\cf0 \strokec5 ) \{\cb1 \
\cb3                 highScoresList.innerHTML = \cf9 \strokec9 "<li>No records yet. Be the first!</li>"\cf0 \strokec5 ;\cb1 \
\cb3                 \cf13 \strokec13 return\cf0 \strokec5 ;\cb1 \
\cb3             \}\cb1 \
\cb3             highScores.forEach(entry => \{\cb1 \
\cb3                 \cf13 \strokec13 const\cf0 \strokec5  li = document.createElement(\cf9 \strokec9 'li'\cf0 \strokec5 );\cb1 \
\cb3                 li.innerHTML = \cf9 \strokec9 `\cf0 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf9 \cb3 \strokec9                     <span class="score-name">\cf0 \strokec5 $\{entry.name\}\cf9 \strokec9 </span>\cf0 \cb1 \strokec5 \
\cf9 \cb3 \strokec9                     <span class="score-date">\cf0 \strokec5 $\{entry.date\}\cf9 \strokec9 </span>\cf0 \cb1 \strokec5 \
\cf9 \cb3 \strokec9                     <span class="score-value">\cf0 \strokec5 $\{entry.score\}\cf9 \strokec9 /\cf0 \strokec5 $\{entry.words\}\cf9 \strokec9  (\cf0 \strokec5 $\{entry.percentage\}\cf9 \strokec9 %)</span>\cf0 \cb1 \strokec5 \
\cf9 \cb3 \strokec9                 `\cf0 \strokec5 ;\cb1 \
\pard\pardeftab720\partightenfactor0
\cf0 \cb3                 highScoresList.appendChild(li);\cb1 \
\cb3             \});\cb1 \
\cb3         \}\cb1 \
\
\cb3         \cf11 \strokec11 // --- Event Listeners ---\cf0 \cb1 \strokec5 \
\cb3         startGameButton.addEventListener(\cf9 \strokec9 'click'\cf0 \strokec5 , startGame); \cb1 \
\cb3         \cb1 \
\cb3         resetGameButton.addEventListener(\cf9 \strokec9 'click'\cf0 \strokec5 , () => \{\cb1 \
\cb3             showMessage(\cf9 \strokec9 "Confirm"\cf0 \strokec5 , \cf9 \strokec9 "Are you sure you want to end this session and reset?"\cf0 \strokec5 , () => \{\cb1 \
\cb3                  endCurrentGame(\cf9 \strokec9 "Session ended early."\cf0 \strokec5 ); \cb1 \
\cb3             \});\cb1 \
\cb3         \});\cb1 \
\cb3         playAgainButton.addEventListener(\cf9 \strokec9 'click'\cf0 \strokec5 , resetGameFull);\cb1 \
\
\cb3         increaseSpeedButton.addEventListener(\cf9 \strokec9 'click'\cf0 \strokec5 , () => \{\cb1 \
\cb3             dropSpeed = \cf15 \strokec15 Math\cf0 \strokec5 .min(dropSpeed + \cf14 \strokec14 0.5\cf0 \strokec5 , \cf14 \strokec14 10\cf0 \strokec5 );\cb1 \
\cb3             speedDisplay.textContent = dropSpeed.toFixed(\cf14 \strokec14 1\cf0 \strokec5 );\cb1 \
\cb3         \});\cb1 \
\cb3         decreaseSpeedButton.addEventListener(\cf9 \strokec9 'click'\cf0 \strokec5 , () => \{\cb1 \
\cb3             dropSpeed = \cf15 \strokec15 Math\cf0 \strokec5 .max(\cf14 \strokec14 0.5\cf0 \strokec5 , dropSpeed - \cf14 \strokec14 0.5\cf0 \strokec5 );\cb1 \
\cb3             speedDisplay.textContent = dropSpeed.toFixed(\cf14 \strokec14 1\cf0 \strokec5 );\cb1 \
\cb3         \});\cb1 \
\
\cb3         canvas.addEventListener(\cf9 \strokec9 'click'\cf0 \strokec5 , handleWordClick);\cb1 \
\cb3         window.addEventListener(\cf9 \strokec9 'keydown'\cf0 \strokec5 , handleKeyPress); \cb1 \
\cb3         window.addEventListener(\cf9 \strokec9 'resize'\cf0 \strokec5 , resizeCanvas);\cb1 \
\cb3         messageBoxButton.addEventListener(\cf9 \strokec9 'click'\cf0 \strokec5 , () => \{ \cb1 \
\cb3             customMessageBoxOverlay.classList.add(\cf9 \strokec9 'hidden'\cf0 \strokec5 );\cb1 \
\cb3         \});\cb1 \
\
\cb3         \cf11 \strokec11 // --- Initial Setup ---\cf0 \cb1 \strokec5 \
\cb3         resizeCanvas();\cb1 \
\cb3         displayHighScores(); \cb1 \
\cb3         numWordsToReviewInput.max = mainVocabulary.length > \cf14 \strokec14 0\cf0 \strokec5  ? mainVocabulary.length : \cf14 \strokec14 100\cf0 \strokec5 ; \cb1 \
\cb3     \cf6 \strokec6 </\cf7 \strokec7 script\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\pard\pardeftab720\partightenfactor0
\cf6 \cb3 \strokec6 </\cf7 \strokec7 body\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\cf6 \cb3 \strokec6 </\cf7 \strokec7 html\cf6 \strokec6 >\cf0 \cb1 \strokec5 \
\
}